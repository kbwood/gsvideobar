/* http://keith-wood.name/gsvideobar.html
   Google Search Videobar for jQuery v1.0.0.
   See http://www.google.com/uds/solutions/videobar/reference.html.
   Written by Keith Wood (kbwood@virginbroadband.com.au) November 2008.
   Dual licensed under the GPL (http://dev.jquery.com/browser/trunk/jquery/GPL-LICENSE.txt) and 
   MIT (http://dev.jquery.com/browser/trunk/jquery/MIT-LICENSE.txt) licenses. 
   Please attribute the author if you use it. */
(function($){function GSVideobar(){this._defaults={horizontal:true,thumbnailSize:this.thumbnailsMedium,player:'',master:'',closeText:'',search:'jquery',manyResults:false,cycleTime:this.cycleMedium,cycleMode:this.cycleRandom,statusArea:''}}var i='gsvideobar';$.extend(GSVideobar.prototype,{markerClassName:'hasGSVideobar',cycleVShort:3000,cycleShort:10000,cycleMedium:15000,cycleLong:30000,cycleRandom:1,cycleLinear:2,thumbnailsSmall:1,thumbnailsMedium:2,ytMostViewed:'ytfeed:most_viewed',ytRecentlyFeatured:'ytfeed:recently_featured',ytTopRated:'ytfeed:top_rated',ytToday:'.today',ytThisWeek:'.this_week',ytThisMonth:'.this_month',ytAllTime:'.all_time',setDefaults:function(a){extendRemove(this._defaults,a||{});return this},youTube:function(a){return'ytchannel:'+a},_attachGSVideobar:function(a,b){a=$(a);if(a.is('.'+this.markerClassName)){return}a.addClass(this.markerClassName);var c={target:a};c.options=$.extend({},b);$.data(a[0],i,c);this._updateGSVideobar(a,c)},_changeGSVideobar:function(a,b){var c=$.data(a,i);if(c){extendRemove(c.options,b||{});$.data(a,i,c);this._updateGSVideobar($(a),c)}},_searchGSVideobar:function(a,b){var c=$.data(a,i);if(c){extendRemove(c.options,{search:b});$.data(a,i,c);c.videobar.execute(b)}},_updateGSVideobar:function(c,d){var e=function(a){var b=$.gsvideobar._get(d,a);b=(b?(b.jQuery?b:$(b)):null);return(b&&b.length?b[0]:null)};var f=this._get(d,'search');f=(isArray(f)?f:[f]);var g=e('player');var h=e('master');h=(h?$.data(h,i).videobar:null);d.videobar=new GSvideoBar(c[0],(h?null:(g||GSvideoBar.PLAYER_ROOT_FLOATING)),{largeResultSet:this._get(d,'manyResults'),horizontal:this._get(d,'horizontal'),thumbnailSize:this._get(d,'thumbnailSize'),string_allDone:this._get(d,'closeText'),master:h,autoExecuteList:{executeList:f,cycleTime:this._get(d,'cycleTime'),cycleMode:this._get(d,'cycleMode'),statusRoot:e('statusArea')}})},_destroyGSVideobar:function(a){a=$(a);if(!a.is('.'+this.markerClassName)){return}a.removeClass(this.markerClassName).empty();$.removeData(a[0],i)},_get:function(a,b){return(a.options[b]!=null?a.options[b]:$.gsvideobar._defaults[b])}});function extendRemove(a,b){$.extend(a,b);for(var c in b){if(b[c]==null){a[c]=null}}return a}function isArray(a){return(a&&a.constructor==Array)}$.fn.gsvideobar=function(a){var b=Array.prototype.slice.call(arguments,1);return this.each(function(){if(typeof a=='string'){$.gsvideobar['_'+a+'GSVideobar'].apply($.gsvideobar,[this].concat(b))}else{$.gsvideobar._attachGSVideobar(this,a)}})};if($('script[src*=www.google.com/uds/api?file=uds.js]').length==0){if(!$.googleSearchKey){throw'Missing Google Search Key';}$('head').append('<script type="text/javascript" src="http://www.google.com/uds/'+'api?file=uds.js&v=1.0&key='+$.googleSearchKey+'"></script>\n'+'<link type="text/css" href="http://www.google.com/uds/css/gsearch.css" rel="stylesheet"/>\n')}$('head').append('<script type="text/javascript" src="http://www.google.com/uds/'+'solutions/videobar/gsvideobar.js"></script>\n'+'<link type="text/css" href="http://www.google.com/uds/solutions/videobar/gsvideobar.css" '+'rel="stylesheet"/>\n');$.gsvideobar=new GSVideobar()})(jQuery);