/* http://keith-wood.name/gsvideobar.html
   Google Search Videobar for jQuery v1.1.0.
   See http://www.google.com/uds/solutions/videobar/reference.html.
   Written by Keith Wood (kbwood{at}iinet.com.au) November 2008.
   Available under the MIT (https://github.com/jquery/jquery/blob/master/MIT-LICENSE.txt) license. 
   Please attribute the author if you use it. */
(function($){function GSVideobar(){this._defaults={horizontal:true,thumbnailSize:this.thumbnailsMedium,player:'',master:'',closeText:'',search:'jquery',manyResults:false,cycleTime:this.cycleMedium,cycleMode:this.cycleRandom,statusArea:''}}$.extend(GSVideobar.prototype,{markerClassName:'hasGSVideobar',propertyName:'gsvideobar',cycleVShort:3000,cycleShort:10000,cycleMedium:15000,cycleLong:30000,cycleRandom:1,cycleLinear:2,thumbnailsSmall:1,thumbnailsMedium:2,ytMostViewed:'ytfeed:most_viewed',ytRecentlyFeatured:'ytfeed:recently_featured',ytTopRated:'ytfeed:top_rated',ytToday:'.today',ytThisWeek:'.this_week',ytThisMonth:'.this_month',ytAllTime:'.all_time',setDefaults:function(a){$.extend(this._defaults,a||{});return this},youTube:function(a){return'ytchannel:'+a},_attachPlugin:function(a,b){a=$(a);if(a.hasClass(this.markerClassName)){return}var c={options:$.extend({},this._defaults,b),target:a};a.addClass(this.markerClassName).data(this.propertyName,c);this._optionPlugin(a,b)},_optionPlugin:function(a,b,c){a=$(a);var d=a.data(this.propertyName);if(!b||(typeof b=='string'&&c==null)){var e=b;b=(d||{}).options;return(b&&e?b[e]:b)}if(!a.hasClass(this.markerClassName)){return}b=b||{};if(typeof b=='string'){var e=b;b={};b[e]=c}$.extend(d.options,b);this._updateGSVideobar(a[0],d)},_updateGSVideobar:function(c,d){var e=function(a){var b=d.options[a];b=(b?(b.jQuery?b:$(b)):null);return(b&&b.length?b[0]:null)};var f=d.options.search;f=($.isArray(f)?f:[f]);var g=e('player');var h=e('master');h=(h?$.data(h,this.propertyName).videobar:null);d.videobar=new GSvideoBar(c,(h?null:(g||GSvideoBar.PLAYER_ROOT_FLOATING)),{largeResultSet:d.options.manyResults,horizontal:d.options.horizontal,thumbnailSize:d.options.thumbnailSize,string_allDone:d.options.closeText,master:h,autoExecuteList:{executeList:f,cycleTime:d.options.cycleTime,cycleMode:d.options.cycleMode,statusRoot:e('statusArea')}})},_searchPlugin:function(a,b){var c=$.data(a,this.propertyName);if(c){$.extend(c.options,{search:b});c.videobar.execute(b)}},_destroyPlugin:function(a){a=$(a);if(!a.hasClass(this.markerClassName)){return}a.removeClass(this.markerClassName).empty().removeData(this.propertyName)}});var i=[];function isNotChained(a,b){if(a=='option'&&(b.length==0||(b.length==1&&typeof b[0]=='string'))){return true}return $.inArray(a,i)>-1}$.fn.gsvideobar=function(a){var b=Array.prototype.slice.call(arguments,1);if(isNotChained(a,b)){return j['_'+a+'Plugin'].apply(j,[this[0]].concat(b))}return this.each(function(){if(typeof a=='string'){if(!j['_'+a+'Plugin']){throw'Unknown command: '+a;}j['_'+a+'Plugin'].apply(j,[this].concat(b))}else{j._attachPlugin(this,a||{})}})};if($('script[src*="www.google.com/uds/api?file=uds.js"]').length==0){if(!$.googleSearchKey){throw'Missing Google Search Key';}document.write('<script type="text/javascript" src="http://www.google.com/uds/'+'api?file=uds.js&v=1.0&key='+$.googleSearchKey+'"></script>\n'+'<link type="text/css" href="http://www.google.com/uds/css/gsearch.css" rel="stylesheet"/>\n')}document.write('<script type="text/javascript" src="http://www.google.com/uds/'+'solutions/videobar/gsvideobar.js"></script>\n'+'<link type="text/css" href="http://www.google.com/uds/solutions/videobar/gsvideobar.css" '+'rel="stylesheet"/>\n');var j=$.gsvideobar=new GSVideobar()})(jQuery);